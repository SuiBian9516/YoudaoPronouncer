# Youdao_Pronouncer

### What Youdao_Pronouncer
This is a software designed by SuiBian9516 aiming to create English videos which contain twice-pronouncing audios. **This project is for learning purposes only at your own risk**

## Command Usage
```shell
node dist/main.js <workPath>
```
`workPath`: the root path at which the programme runs

## Programme Usage
`Firstly`, you are supposed to have [FFmpeg](https://ffmpeg.org/) and [Typescript](https://www.typescriptlang.org/) installed in your computer and make sure that it is correctly configured.

`Secondly`, unzip the source code.

`Next`, choose the installing way you like
**npm**
```shell
#installing dependencies
npm install
#compile source code
tsc
```
**yarn**
```shell
#installing dependencies
yarn install
#compile source code
tsc
```

`Then`, assuming that now you have a directory `example` and a config file `config.json`. Then make sure that you have put `example.json` database file in `example/asset/example.json`(see [Database](#Database)).
```json
//config.json
{
    "autoClean":true,
    "database":"./asset/example.json",
    "output":"example",
}
```
Finally, run command below

```shell
node dist/main.js ./example/
```
You may see these below:
```
[INFO/Main] Programme started
[INFO/Main] Detected 1 database file(s)
[INFO/Main] Handling task 0
[INFO/Fetcher] Skipping: world
[INFO/Fetcher] Skipping: hello
[INFO/Generator] Process of video generating is going to start
[INFO/Generator] Generated successfully
[INFO/Generator] No more tasks needed to be handled
[INFO/Generator] Programme is about to exit safely
```
If yes, congratulations! You have won this tiring game! And you can admire the tiring video generated by this tiring programme...

## Config File
In new version(>=1.0.0), command line only receives one argument that tells programme where the working directories is. So if `workPath` is correctly set, then programme will find `config.json` in `workPath`. Next I will show you how to create your own `config.json`.
```json
{
    "autoClean":true,
    "database":"./asset/example.json",
    "output":"example",
    "font":"./fonts.ttf"
}
```
`autoClean`: means programme will automatically clean the working directory, including `cache` and `audio`
`database`: means the path of database file(s). If path refers to a file, it will only parse one file; if path refers to a directory, parser will consider all files under this directory as `database` file
`output`: means the names of generated videos. If over two database files are detected, then programme will add `_{index}` behind `output` automatically
`font`: means a path which refers to a exact font file.

## Database
If you are going to add English words you like, patient...
I will provide you with the example database file below...
```json
{
    "group1":{
        "Hello":"Description here",
        "World":"Description here"
    },
    "group2":{
        "Bye":"Description here",
        "World":"Description here"
    }
}
```
`group1` and `group2` or so are freely named, do what you like.